<style type="text/css">
  .parent{
    padding: 0 5% 0 0;
  }
</style>
<script type="text/javascript">
  function reload() {
    document.getElementById('frame_id').src="/static/dashboard/overview/workflow/rally-test/input/rally_html.html";
  } btn_id.onclick = reload;
</script>

<div class="parent" ng-controller="RallyTestMaketestController as ctrl">
<div class="box box-primary">
  <div class="box-header with-border">
    <h3 class="box-title">Finalize your Test</h3>
    <div class="box-tools pull-right">
      <button class="btn btn-box-tool" data-widget="collapse"><i class="fa fa-plus"></i></button>
    </div><!-- /.box-tools -->
  </div><!-- /.box-header -->
  <div class="box-body">

    <button class="btn btn-success btn-md" ng-click="ctrl.runTest()" ng-disabled="model.isProcessing">Click Here to Run Test</button>
    <hr/> 
    <div ng-hide="model.log.length == 0 ">
    <h3>Your Test has been Completed</h3>

 <table class="table table-striped">
    <thead>
      <tr>
        <th>S.No</th>
        <th>Task Name</th>
        <th>Count</th>
        <th>Duration</th>
        <th>Status</th>
        <th>%</th>
      </tr>
    </thead>
    <tbody>
      <tr ng-repeat="task in model.finalresults track by $index">
        <td>{$task.sno$}</td>
        <td>{$task.name$}</td>
        <td>{$task.count$}</td>
        <td>{$task.duration | number $}</td>
        <td>
          
          <label class="label" ng-class="{'label-success' : task.status  == 'Success', 'label-danger' : task.status == 'Failed'}">{$task.status$}</label>
          
          
        </td>
        <td>{$task.percentage$} %</td>
      </tr>
    </tbody>
  </table>

  <button class="btn btn-primary btn-md" ng-click="log234=true">View Log</button>
  <pre ng-show="log234">
  {$model.log$}
  <button class="btn btn-primary btn-md" ng-click="log234 = false">Close Log</button>
  </pre>
  <button id="btn_id" class="btn btn-primary btn-md" ng-click="btn=true">view Html Output</button>
  <pre ng-show="btn">
  <iframe  id="frame_id" name="display" width="200%" height="200%" frameborder="0" marginwidth="0" marginheight="0" ></iframe>
  <button class="btn btn-primary btn-md" ng-click="btn = false">Close Html view</button>
  </pre>
<!--   <div>
  <button id="btn_id" class="btn btn-primary btn-md" ng-click="ctrl.viewhtml()">view Html Output</button>
  <iframe  id="frame_id" name="display" width="100%" height="200%" frameborder="0" marginwidth="0" marginheight="0" ></iframe>
  </div>-->
  </div>
  </div><!-- /.box-body -->
</div>
</div>